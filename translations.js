/* ============================================
   SISTEMA DE IDIOMAS
   Traducciones español/inglés
   ============================================ */

const translations = {
  es: {
    // Preloader
    loading: 'Cargando portfolio…',
    
    // Hero
    hero_subtitle: 'Desarrollador Full Stack · Analista Técnico · Tech Lead Junior',
    hero_description: 'Desarrollador con alta especialización en JavaScript, experiencia en Angular, Laravel y liderazgo de equipos. Perfil híbrido entre desarrollo, análisis funcional y consultoría tecnológica.',
    location: 'Sevilla, España',
    
    // About
    about_title: 'Sobre mí',
    about_description1: 'Soy desarrollador Full Stack con experiencia en proyectos reales, liderazgo de equipos y toma de decisiones técnicas en entornos front-end y back-end. He trabajado con Angular, Laravel, Java, bases de datos y accesibilidad, además de entrenar modelos de IA a nivel funcional y técnico.',
    about_description2: 'Busco roles de mayor responsabilidad como Tech Lead Junior, Analista Técnico o Consultor Tecnológico, donde pueda combinar mis habilidades técnicas con mi experiencia coordinando personas y entendiendo las necesidades del negocio.',
    
    // Skills
    skills_technical: 'Habilidades técnicas',
    skills_soft: 'Habilidades blandas',
    
    // Experience
    experience_title: 'Experiencia profesional',
    
    // Jobs
    job_0_title: 'Instalador de Sistemas · YMANT',
    job_0_location: 'Sevilla, España',
    job_0_item1: 'Instalación y configuración de sistemas electrónicos en centros educativos.',
    job_0_item2: 'Coordinación de equipos de hasta 10 técnicos en despliegues simultáneos.',
    job_0_item3: 'Gestión logística y optimización de tiempos y recursos.',
    job_0_item4: 'Resolución de incidencias técnicas y documentación de procesos.',
    
    job_1_title: 'Entrenador de IA · Outlier',
    job_1_location: 'Remoto',
    job_1_item1: 'Entrenamiento de modelos de IA en SQL, Java, PHP, Kotlin, C#, JavaScript, TypeScript, HTML, CSS, Angular, Laravel y Bootstrap.',
    job_1_item2: 'Validación de calidad y coherencia técnica en datasets.',
    job_1_item3: 'Diseño de prompts y análisis funcional para mejorar el rendimiento de modelos.',
    job_1_item4: 'Trabajo en entornos ágiles orientados a precisión y consistencia.',
    job_1_current: 'actualidad',
    
    job_2_title: 'Desarrollador Web / Analista Funcional · Quantum Solutions',
    job_2_location: 'Sevilla, España',
    job_2_item1: 'Desarrollo full stack en proyectos web corporativos.',
    job_2_item2: 'Liderazgo de un equipo de 3 desarrolladores front-end.',
    job_2_item3: 'Toma de decisiones técnicas en arquitectura front.',
    job_2_item4: 'Desarrollo de videojuegos en JavaScript, optimización de performance y accesibilidad.',
    job_2_item5: 'Evolutivos, mantenimiento y diseño responsive.',
    job_2_item6: 'Back-end en Java con foco en calidad de código.',
    
    // Extra experience
    leñador: 'Leñador:',
    leñador_desc: 'disciplina, resistencia, seguridad en entornos de riesgo.',
    camarero: 'Camarero:',
    camarero_desc: 'atención al cliente, multitarea, trabajo bajo presión.',
    repartidor: 'Repartidor:',
    repartidor_desc: 'organización, eficiencia, responsabilidad.',
    comercial: 'Comercial:',
    comercial_desc: 'negociación, persuasión, orientación a resultados.',
    talent_acquisition: 'Talent Acquisition:',
    talent_acquisition_desc: 'selección de perfiles técnicos, entrevistas, evaluación de talento.',
    extra_experience_title: 'Experiencia adicional',
    education_title: 'Educación',
    education_item1: 'Desarrollo de Aplicaciones Web',
    education_item2: 'Bachillerato',
    languages_title: 'Idiomas',
    language_spanish: 'Español:',
    language_english: 'Inglés:',
    level_native: 'Nativo',
    level_fluent: 'Fluido',
    
    // Objective
    objective_title: 'Objetivo profesional',
    objective_description: 'Acceder a un rol híbrido de Tech Lead Junior, Analista Técnico o Consultor Tecnológico, donde pueda combinar mis capacidades técnicas, mi experiencia liderando equipos y mi visión funcional para aportar valor en proyectos de gran escala, preferiblemente en consultoras o empresas con proyección y alto impacto.',
    
    // Showcase
    slide1_title: 'Proyectos Front-end',
    slide1_desc: 'Interfaces accesibles y rendimiento optimizado.',
    slide2_title: 'Arquitectura y liderazgo',
    slide2_desc: 'Decisiones técnicas y coordinación de equipos.',
    slide3_title: 'Machine Learning',
    slide3_desc: 'Entrenamiento y validación de modelos IA.',
    carousel_prev: 'Anterior',
    carousel_next: 'Siguiente',
  },
  en: {
    // Preloader
    loading: 'Loading portfolio…',
    
    // Hero
    hero_subtitle: 'Full Stack Developer · Technical Analyst · Junior Tech Lead',
    hero_description: 'Developer with high specialization in JavaScript, experience with Angular, Laravel and team leadership. Hybrid profile between development, functional analysis and technical consulting.',
    location: 'Seville, Spain',
    
    // About
    about_title: 'About me',
    about_description1: 'I am a Full Stack developer with experience in real projects, team leadership and technical decision-making in front-end and back-end environments. I have worked with Angular, Laravel, Java, databases and accessibility, plus training AI models at functional and technical level.',
    about_description2: 'I am seeking positions with greater responsibility as Junior Tech Lead, Technical Analyst or Technology Consultant, where I can combine my technical skills with my experience leading teams and understanding business needs.',
    
    // Skills
    skills_technical: 'Technical skills',
    skills_soft: 'Soft skills',
    
    // Experience
    experience_title: 'Professional experience',
    
    // Jobs
    job_0_title: 'Systems Installer · YMANT',
    job_0_location: 'Seville, Spain',
    job_0_item1: 'Installation and configuration of electronic systems in educational centers.',
    job_0_item2: 'Coordination of teams of up to 10 technicians in simultaneous deployments.',
    job_0_item3: 'Logistical management and optimization of time and resources.',
    job_0_item4: 'Technical incident resolution and process documentation.',
    
    job_1_title: 'AI Trainer · Outlier',
    job_1_location: 'Remote',
    job_1_item1: 'Training of AI models in SQL, Java, PHP, Kotlin, C#, JavaScript, TypeScript, HTML, CSS, Angular, Laravel and Bootstrap.',
    job_1_item2: 'Quality validation and technical coherence in datasets.',
    job_1_item3: 'Prompt design and functional analysis to improve model performance.',
    job_1_item4: 'Work in agile environments focused on precision and consistency.',
    job_1_current: 'present',
    
    job_2_title: 'Web Developer / Functional Analyst · Quantum Solutions',
    job_2_location: 'Seville, Spain',
    job_2_item1: 'Full stack development in corporate web projects.',
    job_2_item2: 'Leadership of a team of 3 front-end developers.',
    job_2_item3: 'Technical decision-making in front-end architecture.',
    job_2_item4: 'Video game development in JavaScript, performance optimization and accessibility.',
    job_2_item5: 'Evolutionary, maintenance and responsive design.',
    job_2_item6: 'Back-end in Java with focus on code quality.',
    
    // Extra experience
    leñador: 'Woodworker:',
    leñador_desc: 'discipline, resistance, safety in risk environments.',
    camarero: 'Waiter:',
    camarero_desc: 'customer service, multitasking, work under pressure.',
    repartidor: 'Delivery Person:',
    repartidor_desc: 'organization, efficiency, responsibility.',
    comercial: 'Sales:',
    comercial_desc: 'negotiation, persuasion, results-oriented.',
    talent_acquisition: 'Talent Acquisition:',
    talent_acquisition_desc: 'technical profile selection, interviews, talent assessment.',
    extra_experience_title: 'Additional experience',
    education_title: 'Education',
    education_item1: 'Web Application Development',
    education_item2: 'High School',
    languages_title: 'Languages',
    language_spanish: 'Spanish:',
    language_english: 'English:',
    level_native: 'Native',
    level_fluent: 'Fluent',
    
    // Objective
    objective_title: 'Professional objective',
    objective_description: 'To access a hybrid role as Junior Tech Lead, Technical Analyst or Technology Consultant, where I can combine my technical capabilities, my experience leading teams and my functional vision to add value in large-scale projects, preferably in consulting firms or companies with projection and high impact.',
    
    // Showcase
    slide1_title: 'Front-end Projects',
    slide1_desc: 'Accessible interfaces and optimized performance.',
    slide2_title: 'Architecture and leadership',
    slide2_desc: 'Technical decisions and team coordination.',
    slide3_title: 'Machine Learning',
    slide3_desc: 'Training and validation of AI models.',
    carousel_prev: 'Previous',
    carousel_next: 'Next',
  }
};

/* Función para obtener traducción */
function t(key) {
  const lang = document.documentElement.getAttribute('data-lang') || 'es';
  return translations[lang]?.[key] || translations.es[key] || key;
}

/* Aplicar traducciones al DOM */
function applyTranslations() {
  const lang = document.documentElement.getAttribute('data-lang') || 'es';
  
  // Traducciones de texto
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    el.textContent = translations[lang][key] || translations.es[key];
  });
  
  // Traducciones de atributos
  document.querySelectorAll('[data-i18n-attr]').forEach(el => {
    const attr = el.getAttribute('data-i18n-attr');
    const [attrName, key] = attr.split(':');
    const value = translations[lang][key] || translations.es[key];
    el.setAttribute(attrName, value);
  });
  
  // Actualizar lang del HTML
  document.documentElement.lang = lang;
  
  // Actualizar botón de idioma
  const langBtn = document.getElementById('lang-switcher');
  if (langBtn) {
    const span = langBtn.querySelector('.lang-current');
    if (span) {
      span.textContent = lang === 'es' ? 'EN' : 'ES';
    }
  }
}

/* Cambiar idioma */
function changeLanguage(lang) {
  document.documentElement.setAttribute('data-lang', lang);
  localStorage.setItem('language', lang);
  applyTranslations();
  
  // Disparar evento para notificar cambio de idioma
  window.dispatchEvent(new CustomEvent('languageChanged', { detail: { language: lang } }));
}

/* Inicializar idiomas */
document.addEventListener('DOMContentLoaded', () => {
  const langBtn = document.getElementById('lang-switcher');
  if (langBtn) {
    langBtn.addEventListener('click', () => {
      const current = document.documentElement.getAttribute('data-lang') || 'es';
      const newLang = current === 'es' ? 'en' : 'es';
      changeLanguage(newLang);
    });
  }
  
  // Aplicar traducciones iniciales
  applyTranslations();
});
